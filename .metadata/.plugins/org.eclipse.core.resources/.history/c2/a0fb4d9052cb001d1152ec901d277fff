package calendario;

public class Fecha {
	private int dia;
	private Mes mes;
	private int anno;

	public int getDia() {
		return dia;
	}

	public void setDia(int dia) {
		this.dia = dia;
	}

	public Mes getMes() {
		return mes;
	}

	public void setMes(Mes mes) {
		this.mes = mes;
	}

	public int getAnno() {
		return anno;
	}

	public void setAnno(int anno) {
		this.anno = anno;
	}
	
	public Fecha sumFecha(Fecha fecha, int dias) {
		Fecha sumFecha = new Fecha();
		int nuevoDia;
		Mes nuevoMes;
		int nuevoAnno;
		int diasMes = getDiasMes(this.getMes(), this.getAnno());
		int diaMes = this.getDia();
		if(diaMes + dias > diasMes) {
			
		} else {
			nuevoDia = diaMes + dias;
			sumFecha.setDia(nuevoDia);
			nuevoMes = this.getMes();
			sumFecha.setMes(nuevoMes);
			nuevoAnno = this.getAnno();
		}
		
		return sumFecha;
	}
	
	int getDiasMes(Mes mes, int anno) {
		int dias = 0;
		switch (mes){
		case Enero:
			dias = 31;
			break;
		case Febrero:
			dias = (esBisiesto(anno)) ? 29 : 28;
			break;
		case Marzo:
			dias = 31;
			break;
		case Abril:
			dias = 30;
			break;
		case Mayo:
			dias = 31;
			break;
		case Junio:
			dias = 30;
			break;
		case Julio:
			dias = 31;
			break;
		case Agosto:
			dias = 31;
			break;
		case Septiembre:
			dias = 30;
			break;
		case Octubre:
			dias = 31;
			break;
		case Noviembre:
			dias = 30;
			break;
		case Diciembre:
			dias = 31;
			break;
		}
		return dias;
	}

	boolean esBisiesto(int anno) {
		int test1 = 4;
		int test2 = 100;
		int test3 = 400;
		boolean bisiesto = false;
		if (anno % test1 == 0) {
			bisiesto = true;
			if (anno % test2 == 0) {
				bisiesto = false;
			}
			if (anno % test3 == 0) {
				bisiesto = true;
			}
		}
		return bisiesto;
	}

}
